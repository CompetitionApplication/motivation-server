<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.mapper.app.UserMapper">

    <select id="selectUserByUserEmail" resultType="ServiceUser">
        /* UserMapper.selectUserByUserEmail */
        select user_email as userEmail
             , user_id as userId
          from user
         where user_email = #{userEamil}
    </select>

    <select id="selectOrderItemByUserId" resultType="GoodsBuyResDto">
        /* UserMapper.selectOrderItemByUserId */
        select a.order_item_id as orderItemId
             , b.goods_id as goodsId
             , b.goods_name as goodsName
             , a.order_price as goodsPrice
             , a.order_status as orderStatus
             , a.reg_datetime as goodsBuyDate
          from order_item a
     left join goods b
            on a.goods_id = b.goods_id
         where a.del_yn = 'N'
           and a.user_id = #{userId}
    </select>

</mapper>








